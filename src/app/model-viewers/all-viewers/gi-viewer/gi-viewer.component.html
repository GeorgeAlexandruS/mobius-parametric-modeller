<div id="gi-viewer-container">
	<as-split direction="vertical">
		<as-split-area [size]="68" id="three-js">
			<threejs-viewer [model]='data' (eventClicked)="childEventClicked($event)"></threejs-viewer>
		</as-split-area>
		<as-split-area [size]='32' id="attrib">
			<attribute [data]="data" [refresh]="clickedEvent"></attribute>
			<button class='btn' id="settings_button" mat-icon-button (click)="openModal('settings_modal')"><mat-icon>settings</mat-icon></button>
			<modal-window id="settings_modal">
				<h1>Settings</h1>
				<ul>
					<li [title] = "!normalsEnabled?'No models available':''">
						<div class="label">Normals</div>
						<div class="onoffswitch">
							<input type="checkbox"
							name="onoffswitch"
							class="onoffswitch-checkbox"
							id="normalsOnOff"
							[checked]='settings.normals.show'
							[disabled] = "!normalsEnabled"
							(change)="settingOnChange('normals.show')"
							>
							<label class="onoffswitch-label" for="normalsOnOff">
								<span class="onoffswitch-inner"></span>
								<span class="onoffswitch-switch"></span>
							</label>
						</div>
						<div class="slidecontainer">
							<input type="range" min="1" max="100" step="1"
							[value]="settings.normals.size"
							class="slider" id="normalSize"
							(input)="settingOnChange('normals.size', $event.target.value)"
							[disabled] = "!normalsEnabled">
							<input type="text" [value]="settings.normals.size" disabled>
						</div>
					</li>
					<li>
						<div class="label">Axes</div>
						<div class="onoffswitch">
							<input type="checkbox"
							name="onoffswitch"
							class="onoffswitch-checkbox"
							id="axesOnOff"
							[checked]="settings.axes.show"
							(change)="settingOnChange('axes.show')">
							<label class="onoffswitch-label" for="axesOnOff">
								<span class="onoffswitch-inner"></span>
								<span class="onoffswitch-switch"></span>
							</label>
						</div>
						<div class="slidecontainer">
							<input type="range" min="1" max="1000" step="1" [value]="settings.axes.size" class="slider" id="axesSize" (input)="settingOnChange('axes.size', $event.target.value)">
							<input type="text" [value]="settings.axes.size" disabled>
						</div>
					</li>
					<li>
						<div class="label">Grid</div>
						<div class="onoffswitch">
							<input type="checkbox"
							name="onoffswitch"
							class="onoffswitch-checkbox"
							id="gridOnOff"
							[checked]='settings.grid.show'
							(change)="settingOnChange('grid.show')"
							>
							<label class="onoffswitch-label" for="gridOnOff">
								<span class="onoffswitch-inner"></span>
								<span class="onoffswitch-switch"></span>
							</label>
						</div>
						<div class="slidecontainer">
							<input type="range" min="10" max="10000" step="10" [value]="settings.grid.size" class="slider" id="gridSize" (input)="settingOnChange('grid.size', $event.target.value)">
							<input type="text" [value]="settings.grid.size" disabled>
						</div>
					</li>
					<li>
					<div class="label">Positions</div>
						<div class="onoffswitch">
							<input type="checkbox"
							name="onoffswitch"
							class="onoffswitch-checkbox"
							id="positionsOnOff"
							[checked]='settings.positions.show'
							(change)="settingOnChange('positions.show')"
							>
							<label class="onoffswitch-label" for="positionsOnOff">
								<span class="onoffswitch-inner"></span>
								<span class="onoffswitch-switch"></span>
							</label>
						</div>
						<div class="slidecontainer">
							<input type="range" min="0.1" max="10" step="0.1" [value]="settings.positions.size" class="slider" id="positionsSize" (input)="settingOnChange('positions.size', $event.target.value)">
							<input type="text" [value]="settings.positions.size" disabled>
						</div>
					</li>
					<!-- <li>Shadow On/Off</li>
					<li>Position color/size</li> -->
				</ul>
				<button (click)="closeModal('settings_modal', true);" class="filebtn">Save</button>
				<button (click)="closeModal('settings_modal');" class='filebtn closebtn'>Close</button>
			</modal-window>
		</as-split-area>
	</as-split>
</div>
